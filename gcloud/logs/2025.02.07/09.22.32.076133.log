2025-02-07 09:22:32,259 DEBUG    root            Loaded Command Group: ['gcloud', 'builds']
2025-02-07 09:22:32,447 DEBUG    root            Loaded Command Group: ['gcloud', 'builds', 'submit']
2025-02-07 09:22:32,472 DEBUG    root            Running [gcloud.builds.submit] with arguments: [--async: "True", --config: "./cloudbuild.yaml", --gcs-source-staging-dir: "gs://dde-ops-data-science-p001_cloudbuild/dds-mlflow-gcp-auth", --project: "dde-ops-data-science-p001", --region: "europe-west4", SOURCE: "."]
2025-02-07 09:22:32,541 DEBUG    urllib3.connectionpool Starting new HTTPS connection (1): storage.googleapis.com:443
2025-02-07 09:22:32,958 DEBUG    urllib3.connectionpool https://storage.googleapis.com:443 "GET /storage/v1/b/dde-ops-data-science-p001_cloudbuild?alt=json HTTP/1.1" 200 1187
2025-02-07 09:22:32,965 INFO     root            Using default gcloudignore file:
--------------------------------------------------
# This file specifies files that are *not* uploaded to Google Cloud
# using gcloud. It follows the same syntax as .gitignore, with the addition of
# "#!include" directives (which insert the entries of the given .gitignore-style
# file at that point).
#
# For more information, run:
#   $ gcloud topic gcloudignore
#
.gcloudignore
# If you would like to upload your .git directory, .gitignore file or files
# from your .gitignore file, remove the corresponding line
# below:
.git
.gitignore
#!include:.gitignore

--------------------------------------------------
2025-02-07 09:22:32,968 DEBUG    root            Skipping file [.DS_Store]
2025-02-07 09:22:32,969 DEBUG    root            Skipping file [.gitignore]
2025-02-07 09:22:32,971 DEBUG    root            Skipping file [.venv]
2025-02-07 09:22:32,971 DEBUG    root            Skipping file [.git]
2025-02-07 09:22:32,973 DEBUG    root            Skipping file [__pycache__/test.cpython-310.pyc]
2025-02-07 09:22:32,975 DEBUG    root            Skipping file [mlflow_gcp_auth/__pycache__/mlflow_gcp_auth.cpython-310.pyc]
2025-02-07 09:22:32,976 DEBUG    root            Skipping file [mlflow_gcp_auth/__pycache__/__init__.cpython-310.pyc]
2025-02-07 09:22:32,976 INFO     ___FILE_ONLY___ Creating temporary archive of 10 file(s) totalling 182.2 KiB before compression.

2025-02-07 09:22:32,978 DEBUG    root            Added dir [tests]
2025-02-07 09:22:32,979 DEBUG    root            Added dir [__pycache__]
2025-02-07 09:22:32,979 DEBUG    root            Added dir [mlflow_gcp_auth]
2025-02-07 09:22:32,979 DEBUG    root            Added dir [mlflow_gcp_auth/__pycache__]
2025-02-07 09:22:32,979 DEBUG    root            Added [cloudbuild.yaml]
2025-02-07 09:22:32,980 DEBUG    root            Added [pyproject.toml]
2025-02-07 09:22:32,980 DEBUG    root            Added [build_ci.sh]
2025-02-07 09:22:32,981 DEBUG    root            Added [README.md]
2025-02-07 09:22:32,981 DEBUG    root            Added [deploy.sh]
2025-02-07 09:22:32,986 DEBUG    root            Added [poetry.lock]
2025-02-07 09:22:32,986 DEBUG    root            Added [tests/__init__.py]
2025-02-07 09:22:32,991 DEBUG    root            Added [tests/test_mlflow_gcp_auth.py]
2025-02-07 09:22:32,992 DEBUG    root            Added [mlflow_gcp_auth/__init__.py]
2025-02-07 09:22:32,995 DEBUG    root            Added [mlflow_gcp_auth/mlflow_gcp_auth.py]
2025-02-07 09:22:32,996 INFO     ___FILE_ONLY___ Some files were not included in the source upload.

Check the gcloud log [/Users/daniel.low/.config/gcloud/logs/2025.02.07/09.22.32.076133.log] to see which files and the contents of the
default gcloudignore file used (see `$ gcloud topic gcloudignore` to learn
more).


2025-02-07 09:22:32,996 INFO     ___FILE_ONLY___ Uploading tarball of [.] to [gs://dde-ops-data-science-p001_cloudbuild/dds-mlflow-gcp-auth/1738891352.528889-36d6733c0cfb41d782172d39aba771ad.tgz]

2025-02-07 09:22:33,005 INFO     root            Uploading [/var/folders/cs/p5_dzp410hlgfg_ljwj0jyg00000gp/T/tmpssv5e31b/file.tgz] to [dde-ops-data-science-p001_cloudbuild/dds-mlflow-gcp-auth/1738891352.528889-36d6733c0cfb41d782172d39aba771ad.tgz]
2025-02-07 09:22:33,008 DEBUG    urllib3.connectionpool Starting new HTTPS connection (1): storage.googleapis.com:443
2025-02-07 09:22:35,540 DEBUG    urllib3.connectionpool https://storage.googleapis.com:443 "POST /upload/storage/v1/b/dde-ops-data-science-p001_cloudbuild/o?alt=json&name=dds-mlflow-gcp-auth%2F1738891352.528889-36d6733c0cfb41d782172d39aba771ad.tgz&uploadType=multipart HTTP/1.1" 200 1142
2025-02-07 09:22:35,553 DEBUG    root            submitting build: <Build
 images: []
 logsBucket: 'gs://${PROJECT_ID}_cloudbuild/$_IMAGE_NAME'
 options: <BuildOptions
 dynamicSubstitutions: True
 env: []
 logging: LoggingValueValuesEnum(GCS_ONLY, 2)
 secretEnv: []
 sourceProvenanceHash: []
 volumes: []>
 secrets: []
 source: <Source
 storageSource: <StorageSource
 bucket: 'dde-ops-data-science-p001_cloudbuild'
 generation: 1738891355329967
 object: 'dds-mlflow-gcp-auth/1738891352.528889-36d6733c0cfb41d782172d39aba771ad.tgz'>>
 steps: [<BuildStep
 allowExitCodes: []
 args: ['-c', 'pip install poetry\npoetry install \npoetry run ruff check . --config pyproject.toml\npoetry run ruff format . --check --config pyproject.toml\npoetry run pytest tests\n']
 entrypoint: 'bash'
 env: []
 id: 'InternalCheck'
 name: 'python:3.10.13-slim'
 secretEnv: []
 volumes: []
 waitFor: []>, <BuildStep
 allowExitCodes: []
 args: ['-c', 'pip install poetry \npoetry self add keyrings.google-artifactregistry-auth\npoetry config repositories.dds ${_ARTIFACT_REGISTRY_URL}\nif [[ ${_UPLOAD_FLAG} == \'True\' ]]; then\n  echo "--- Dry-Run ---"\n  if poetry publish --build --repository dds --dry-run; then\n      echo "---- Push to Repo ----"\n      poetry publish --repository dds\n  else\n      echo "Failed to publish to repository"\n  fi\nelse\n  echo "Did not publish as the cloud build was not triggered on main branch."\nfi\n']
 entrypoint: 'bash'
 env: []
 id: 'PublishPackage'
 name: 'python:3.10.13-slim'
 secretEnv: []
 volumes: []
 waitFor: []>]
 substitutions: <SubstitutionsValue
 additionalProperties: [<AdditionalProperty
 key: '_ARTIFACT_REGISTRY_URL'
 value: 'https://${LOCATION}-python.pkg.dev/${PROJECT_ID}/python'>, <AdditionalProperty
 key: '_IMAGE_NAME'
 value: 'mlflow-gcp-auth'>, <AdditionalProperty
 key: '_UPLOAD_FLAG'
 value: 'True'>]>
 tags: []
 warnings: []>
2025-02-07 09:22:35,619 DEBUG    urllib3.connectionpool Starting new HTTPS connection (1): cloudbuild.googleapis.com:443
2025-02-07 09:22:37,732 DEBUG    urllib3.connectionpool https://cloudbuild.googleapis.com:443 "POST /v1/projects/dde-ops-data-science-p001/locations/europe-west4/builds?alt=json HTTP/1.1" 200 None
2025-02-07 09:22:37,740 INFO     ___FILE_ONLY___ Created [https://cloudbuild.googleapis.com/v1/projects/dde-ops-data-science-p001/locations/europe-west4/builds/c3258f46-ae4f-4fc6-8393-5fbac82a432d].

2025-02-07 09:22:37,740 INFO     ___FILE_ONLY___ Logs are available at [ https://console.cloud.google.com/cloud-build/builds;region=europe-west4/c3258f46-ae4f-4fc6-8393-5fbac82a432d?project=699197215593 ].

2025-02-07 09:22:37,740 DEBUG    root            Chosen display Format:
        table(
          id,
          createTime.date('%Y-%m-%dT%H:%M:%S%Oz', undefined='-'),
          duration(start=startTime,end=finishTime,precision=0,calendar=false,undefined="  -").slice(2:).join(""):label=DURATION,
          build_source(undefined="-"):label=SOURCE,
          build_images(undefined="-"):label=IMAGES,
          status
        )
      
2025-02-07 09:22:37,740 INFO     root            Display format: "
        table(
          id,
          createTime.date('%Y-%m-%dT%H:%M:%S%Oz', undefined='-'),
          duration(start=startTime,end=finishTime,precision=0,calendar=false,undefined="  -").slice(2:).join(""):label=DURATION,
          build_source(undefined="-"):label=SOURCE,
          build_images(undefined="-"):label=IMAGES,
          status
        )
      "
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___ ID
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___                                     
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___ CREATE_TIME
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___                 
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___ DURATION
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___   
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___ SOURCE
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___                                                                                                                 
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___ IMAGES
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___   
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___ STATUS
2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___ 

2025-02-07 09:22:37,779 INFO     ___FILE_ONLY___ c3258f46-ae4f-4fc6-8393-5fbac82a432d
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___   
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___ 2025-02-07T01:22:37+00:00
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___   
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___ -
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___          
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___ gs://dde-ops-data-science-p001_cloudbuild/dds-mlflow-gcp-auth/1738891352.528889-36d6733c0cfb41d782172d39aba771ad.tgz
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___   
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___ -
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___        
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___ QUEUED
2025-02-07 09:22:37,780 INFO     ___FILE_ONLY___ 

2025-02-07 09:22:37,792 DEBUG    root            Metrics reporting process started...
