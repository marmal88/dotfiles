2025-02-10 20:03:35,333 DEBUG    root            Loaded Command Group: ['gcloud', 'auth']
2025-02-10 20:03:35,340 DEBUG    root            Loaded Command Group: ['gcloud', 'auth', 'print_access_token']
2025-02-10 20:03:35,341 DEBUG    root            Running [gcloud.auth.print-access-token] with arguments: []
2025-02-10 20:03:35,342 WARNING  root            This command is using service account impersonation. All API calls will be executed as [bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com].
2025-02-10 20:03:35,628 DEBUG    google.auth.transport.requests Making request: POST https://oauth2.googleapis.com/token
2025-02-10 20:03:35,634 DEBUG    urllib3.connectionpool Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-02-10 20:03:35,905 DEBUG    urllib3.connectionpool https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
2025-02-10 20:03:35,911 DEBUG    google.auth.transport.requests Making request: POST https://oauth2.googleapis.com/token
2025-02-10 20:03:35,913 DEBUG    urllib3.connectionpool Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-02-10 20:03:36,008 DEBUG    urllib3.connectionpool https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
2025-02-10 20:03:36,014 DEBUG    google.auth.transport.requests Making request: POST https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com:generateAccessToken
2025-02-10 20:03:36,016 DEBUG    urllib3.connectionpool Starting new HTTPS connection (1): iamcredentials.googleapis.com:443
2025-02-10 20:03:36,375 DEBUG    urllib3.connectionpool https://iamcredentials.googleapis.com:443 "POST /v1/projects/-/serviceAccounts/bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com:generateAccessToken HTTP/11" 403 None
2025-02-10 20:03:36,378 DEBUG    root            Chosen display Format:default
2025-02-10 20:03:36,510 DEBUG    root            Chosen display Format:default
2025-02-10 20:03:36,511 DEBUG    root            Chosen display Format:default
2025-02-10 20:03:36,562 DEBUG    root            Chosen display Format:default
2025-02-10 20:03:36,512 DEBUG    root            (gcloud.auth.print-access-token) PERMISSION_DENIED: Failed to impersonate [bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com]. Make sure the account that's trying to impersonate it has access to the service account itself and the "roles/iam.serviceAccountTokenCreator" role. Permission 'iam.serviceAccounts.getAccessToken' denied on resource (or it may not exist). This command is authenticated as daniel.low@dyson.com which is the active account specified by the [core/account] property. Impersonation is used to impersonate bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com. 
- '@type': type.googleapis.com/google.rpc.ErrorInfo
  domain: iam.googleapis.com
  metadata:
    permission: iam.serviceAccounts.getAccessToken
  reason: IAM_PERMISSION_DENIED
Traceback (most recent call last):
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/api_lib/iamcredentials/util.py", line 186, in GetElevationAccessTokenGoogleAuth
    cred.refresh(request_client)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/third_party/google/auth/impersonated_credentials.py", line 246, in refresh
    self._update_token(request)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/third_party/google/auth/impersonated_credentials.py", line 278, in _update_token
    self.token, self.expiry = _make_iam_token_request(
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/third_party/google/auth/impersonated_credentials.py", line 91, in _make_iam_token_request
    raise exceptions.RefreshError(_REFRESH_ERROR, response_body)
google.auth.exceptions.RefreshError: ('Unable to acquire impersonated credentials', '{\n  "error": {\n    "code": 403,\n    "message": "Permission \'iam.serviceAccounts.getAccessToken\' denied on resource (or it may not exist).",\n    "status": "PERMISSION_DENIED",\n    "details": [\n      {\n        "@type": "type.googleapis.com/google.rpc.ErrorInfo",\n        "reason": "IAM_PERMISSION_DENIED",\n        "domain": "iam.googleapis.com",\n        "metadata": {\n          "permission": "iam.serviceAccounts.getAccessToken"\n        }\n      }\n    ]\n  }\n}\n')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/calliope/cli.py", line 998, in Execute
    resources = calliope_command.Run(cli=self, args=args)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/calliope/backend.py", line 934, in Run
    resources = command_instance.Run(args)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/calliope/exceptions.py", line 133, in TryFunc
    return func(*args, **kwargs)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/surface/auth/print_access_token.py", line 144, in Run
    cred = c_store.Load(
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/core/credentials/store.py", line 869, in Load
    cred = IMPERSONATION_TOKEN_PROVIDER.GetElevationAccessTokenGoogleAuth(
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/api_lib/iamcredentials/util.py", line 225, in GetElevationAccessTokenGoogleAuth
    raise exceptions.HttpException(
googlecloudsdk.api_lib.util.exceptions.HttpException: PERMISSION_DENIED: Failed to impersonate [bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com]. Make sure the account that's trying to impersonate it has access to the service account itself and the "roles/iam.serviceAccountTokenCreator" role. Permission 'iam.serviceAccounts.getAccessToken' denied on resource (or it may not exist). This command is authenticated as daniel.low@dyson.com which is the active account specified by the [core/account] property. Impersonation is used to impersonate bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com. 
- '@type': type.googleapis.com/google.rpc.ErrorInfo
  domain: iam.googleapis.com
  metadata:
    permission: iam.serviceAccounts.getAccessToken
  reason: IAM_PERMISSION_DENIED
2025-02-10 20:03:36,567 ERROR    root            (gcloud.auth.print-access-token) PERMISSION_DENIED: Failed to impersonate [bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com]. Make sure the account that's trying to impersonate it has access to the service account itself and the "roles/iam.serviceAccountTokenCreator" role. Permission 'iam.serviceAccounts.getAccessToken' denied on resource (or it may not exist). This command is authenticated as daniel.low@dyson.com which is the active account specified by the [core/account] property. Impersonation is used to impersonate bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com. 
- '@type': type.googleapis.com/google.rpc.ErrorInfo
  domain: iam.googleapis.com
  metadata:
    permission: iam.serviceAccounts.getAccessToken
  reason: IAM_PERMISSION_DENIED
2025-02-10 20:03:36,568 DEBUG    root            Chosen display Format:default
2025-02-10 20:03:36,591 DEBUG    root            Metrics reporting process started...
