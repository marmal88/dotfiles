2025-02-10 10:21:11,560 DEBUG    root            Loaded Command Group: ['gcloud', 'projects']
2025-02-10 10:21:11,615 DEBUG    root            Loaded Command Group: ['gcloud', 'projects', 'describe']
2025-02-10 10:21:11,618 DEBUG    root            Running [gcloud.projects.describe] with arguments: [--account: "daniel.low@dyson.com", --configuration: "default", --format: "value(name)", PROJECT_ID_OR_NUMBER: "dde-prj-buildandtest-p001"]
2025-02-10 10:21:11,764 WARNING  root            This command is using service account impersonation. All API calls will be executed as [bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com].
2025-02-10 10:21:11,793 DEBUG    google.auth.transport.requests Making request: POST https://oauth2.googleapis.com/token
2025-02-10 10:21:11,801 DEBUG    urllib3.connectionpool Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-02-10 10:21:11,866 DEBUG    urllib3.connectionpool https://oauth2.googleapis.com:443 "POST /token HTTP/11" 200 None
2025-02-10 10:21:11,869 DEBUG    google.auth.transport.requests Making request: POST https://iamcredentials.googleapis.com/v1/projects/-/serviceAccounts/bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com:generateAccessToken
2025-02-10 10:21:11,870 DEBUG    urllib3.connectionpool Starting new HTTPS connection (1): iamcredentials.googleapis.com:443
2025-02-10 10:21:11,965 DEBUG    urllib3.connectionpool https://iamcredentials.googleapis.com:443 "POST /v1/projects/-/serviceAccounts/bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com:generateAccessToken HTTP/11" 403 None
2025-02-10 10:21:11,965 DEBUG    root            Chosen display Format:default
2025-02-10 10:21:12,082 DEBUG    root            Chosen display Format:default
2025-02-10 10:21:12,083 DEBUG    root            Chosen display Format:default
2025-02-10 10:21:12,144 DEBUG    root            Chosen display Format:default
2025-02-10 10:21:12,084 DEBUG    root            (gcloud.projects.describe) PERMISSION_DENIED: Failed to impersonate [bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com]. Make sure the account that's trying to impersonate it has access to the service account itself and the "roles/iam.serviceAccountTokenCreator" role. Permission 'iam.serviceAccounts.getAccessToken' denied on resource (or it may not exist). This command is authenticated as daniel.low@dyson.com which is the active account specified by the [core/account] property. Impersonation is used to impersonate bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com. 
- '@type': type.googleapis.com/google.rpc.ErrorInfo
  domain: iam.googleapis.com
  metadata:
    permission: iam.serviceAccounts.getAccessToken
  reason: IAM_PERMISSION_DENIED
Traceback (most recent call last):
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/api_lib/iamcredentials/util.py", line 186, in GetElevationAccessTokenGoogleAuth
    cred.refresh(request_client)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/third_party/google/auth/impersonated_credentials.py", line 246, in refresh
    self._update_token(request)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/third_party/google/auth/impersonated_credentials.py", line 278, in _update_token
    self.token, self.expiry = _make_iam_token_request(
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/third_party/google/auth/impersonated_credentials.py", line 91, in _make_iam_token_request
    raise exceptions.RefreshError(_REFRESH_ERROR, response_body)
google.auth.exceptions.RefreshError: ('Unable to acquire impersonated credentials', '{\n  "error": {\n    "code": 403,\n    "message": "Permission \'iam.serviceAccounts.getAccessToken\' denied on resource (or it may not exist).",\n    "status": "PERMISSION_DENIED",\n    "details": [\n      {\n        "@type": "type.googleapis.com/google.rpc.ErrorInfo",\n        "reason": "IAM_PERMISSION_DENIED",\n        "domain": "iam.googleapis.com",\n        "metadata": {\n          "permission": "iam.serviceAccounts.getAccessToken"\n        }\n      }\n    ]\n  }\n}\n')

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/calliope/cli.py", line 998, in Execute
    resources = calliope_command.Run(cli=self, args=args)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/calliope/backend.py", line 934, in Run
    resources = command_instance.Run(args)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/surface/projects/describe.py", line 51, in Run
    return projects_api.Get(project_ref)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/api_lib/cloudresourcemanager/projects_api.py", line 124, in Get
    client = projects_util.GetClient(api_version)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/api_lib/cloudresourcemanager/projects_util.py", line 56, in GetClient
    return apis.GetClientInstance(_API_NAME, version)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/api_lib/util/apis.py", line 270, in GetClientInstance
    return apis_internal._GetClientInstance(
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/api_lib/util/apis_internal.py", line 169, in _GetClientInstance
    http_client = transports.GetApitoolsTransport(
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/core/credentials/transports.py", line 80, in GetApitoolsTransport
    session = requests.GetSession(
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/core/credentials/requests.py", line 82, in GetSession
    session = request_wrapper.WrapQuota(session, enable_resource_quota,
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/core/credentials/requests.py", line 127, in WrapQuota
    quota_project = self.QuotaProject(enable_resource_quota,
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/core/credentials/transport.py", line 54, in QuotaProject
    creds = store.LoadIfEnabled(allow_account_impersonation, use_google_auth)
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/core/credentials/store.py", line 636, in LoadIfEnabled
    return Load(
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/core/credentials/store.py", line 869, in Load
    cred = IMPERSONATION_TOKEN_PROVIDER.GetElevationAccessTokenGoogleAuth(
  File "/Users/daniel.low/Downloads/google-cloud-sdk/lib/googlecloudsdk/api_lib/iamcredentials/util.py", line 225, in GetElevationAccessTokenGoogleAuth
    raise exceptions.HttpException(
googlecloudsdk.api_lib.util.exceptions.HttpException: PERMISSION_DENIED: Failed to impersonate [bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com]. Make sure the account that's trying to impersonate it has access to the service account itself and the "roles/iam.serviceAccountTokenCreator" role. Permission 'iam.serviceAccounts.getAccessToken' denied on resource (or it may not exist). This command is authenticated as daniel.low@dyson.com which is the active account specified by the [core/account] property. Impersonation is used to impersonate bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com. 
- '@type': type.googleapis.com/google.rpc.ErrorInfo
  domain: iam.googleapis.com
  metadata:
    permission: iam.serviceAccounts.getAccessToken
  reason: IAM_PERMISSION_DENIED
2025-02-10 10:21:12,149 ERROR    root            (gcloud.projects.describe) PERMISSION_DENIED: Failed to impersonate [bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com]. Make sure the account that's trying to impersonate it has access to the service account itself and the "roles/iam.serviceAccountTokenCreator" role. Permission 'iam.serviceAccounts.getAccessToken' denied on resource (or it may not exist). This command is authenticated as daniel.low@dyson.com which is the active account specified by the [core/account] property. Impersonation is used to impersonate bnt-battery-engineer-sa@dde-prj-buildandtest-p001.iam.gserviceaccount.com. 
- '@type': type.googleapis.com/google.rpc.ErrorInfo
  domain: iam.googleapis.com
  metadata:
    permission: iam.serviceAccounts.getAccessToken
  reason: IAM_PERMISSION_DENIED
2025-02-10 10:21:12,150 DEBUG    root            Chosen display Format:default
2025-02-10 10:21:12,172 DEBUG    root            Metrics reporting process started...
